# OpenECU Alliance Protocol Definition
# MaxxECU Default CAN Protocol
#
# Source: MaxxECU online documentation
# https://www.maxxecu.com/webhelp/can-default_maxxecu_protocol.html
#
# IMPORTANT NOTES:
# - Protocol uses 11-bit standard CAN identifiers
# - Base address is configurable (default 0x600)
# - Little-endian byte order (Intel format)
# - All messages are 8 bytes

openecualliance: "1.0"
type: protocol

id: maxxecu-default
name: "MaxxECU Default CAN Protocol"
version: "1.0.0"
vendor: maxxecu
description: |
  Default CAN broadcast protocol for MaxxECU engine management systems.
  This protocol outputs real-time engine data for integration with data loggers,
  dashboards, and other CAN-enabled devices.

  Protocol uses 11-bit identifiers with configurable base address (default 0x600).
  Data is transmitted in little-endian (Intel) byte order.

  Supports MaxxECU RACE, STREET, MINI, and PRO models.

website: "https://www.maxxecu.com/webhelp/can-default_maxxecu_protocol.html"

branding:
  logo: maxxecu-logo.svg
  icon: maxxecu-icon.svg
  color_primary: "#0066CC"
  color_secondary: "#FFFFFF"

protocol:
  type: can
  baudrate: 1000000
  extended_id: false
  base_address: 0x600
  base_address_configurable: true

messages:
  # ============================================================================
  # MESSAGE 0x600 - Engine Data 1
  # ============================================================================
  - id: 0x600
    name: "Engine Data 1"
    description: "RPM, TPS, water temperature, air temperature"
    length: 8
    interval_ms: 10
    transmitter: ECU
    signals:
      - name: "RPM"
        description: "Engine rotational speed"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: "rpm"
        min: 0
        max: 20000

      - name: "TPS"
        description: "Throttle position sensor"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Water_Temperature"
        description: "Engine coolant temperature"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: -40
        max: 200

      - name: "Air_Temperature"
        description: "Intake air temperature"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: -40
        max: 200

  # ============================================================================
  # MESSAGE 0x601 - Engine Data 2
  # ============================================================================
  - id: 0x601
    name: "Engine Data 2"
    description: "MAP, lambda, speed, oil pressure"
    length: 8
    interval_ms: 10
    transmitter: ECU
    signals:
      - name: "MAP"
        description: "Manifold absolute pressure"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "kPa"
        min: 0
        max: 400

      - name: "Lambda"
        description: "Lambda/AFR value"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "lambda"
        min: 0.5
        max: 2.0

      - name: "Vehicle_Speed"
        description: "Vehicle speed"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "km/h"
        min: 0
        max: 400

      - name: "Oil_Pressure"
        description: "Engine oil pressure"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "kPa"
        min: 0
        max: 1000

  # ============================================================================
  # MESSAGE 0x602 - Engine Data 3
  # ============================================================================
  - id: 0x602
    name: "Engine Data 3"
    description: "Fuel pressure, oil temperature, battery voltage, target boost"
    length: 8
    interval_ms: 10
    transmitter: ECU
    signals:
      - name: "Fuel_Pressure"
        description: "Fuel rail pressure"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "kPa"
        min: 0
        max: 1000

      - name: "Oil_Temperature"
        description: "Engine oil temperature"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: -40
        max: 200

      - name: "Battery_Voltage"
        description: "System battery voltage"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.01
        offset: 0
        unit: "V"
        min: 0
        max: 20

      - name: "Target_Boost"
        description: "Target boost pressure"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "kPa"
        min: -100
        max: 400

  # ============================================================================
  # MESSAGE 0x603 - Engine Data 4
  # ============================================================================
  - id: 0x603
    name: "Engine Data 4"
    description: "Barometric pressure, EGT 1, gear, ethanol content"
    length: 8
    interval_ms: 20
    transmitter: ECU
    signals:
      - name: "Barometric_Pressure"
        description: "Atmospheric pressure"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "kPa"
        min: 80
        max: 110

      - name: "EGT_1"
        description: "Exhaust gas temperature 1"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: 0
        max: 1200

      - name: "Gear"
        description: "Current gear position"
        start_bit: 32
        length: 8
        byte_order: little_endian
        data_type: signed
        scale: 1.0
        offset: 0
        unit: ""
        min: -1
        max: 8
        comment: "-1=Reverse, 0=Neutral, 1-8=Forward gears"

      - name: "Ethanol_Content"
        description: "Ethanol content from flex fuel sensor"
        start_bit: 40
        length: 8
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: "%"
        min: 0
        max: 100

  # ============================================================================
  # MESSAGE 0x604 - Ignition and Injection 1
  # ============================================================================
  - id: 0x604
    name: "Ignition and Injection 1"
    description: "Ignition angle, injection pulsewidth, injector duty cycle"
    length: 8
    interval_ms: 10
    transmitter: ECU
    signals:
      - name: "Ignition_Angle"
        description: "Ignition timing advance"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "deg"
        min: -20
        max: 60

      - name: "Injection_Time"
        description: "Injector pulsewidth"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "ms"
        min: 0
        max: 30

      - name: "Injector_Duty_Cycle"
        description: "Injector duty cycle"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Dwell_Time"
        description: "Ignition coil dwell time"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.01
        offset: 0
        unit: "ms"
        min: 0
        max: 10

  # ============================================================================
  # MESSAGE 0x605 - Boost Control
  # ============================================================================
  - id: 0x605
    name: "Boost Control"
    description: "Boost control duty cycle, wastegate position, turbo speed"
    length: 8
    interval_ms: 20
    transmitter: ECU
    signals:
      - name: "Boost_Duty_Cycle"
        description: "Boost solenoid duty cycle"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Wastegate_Position"
        description: "Wastegate position"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Turbo_Speed"
        description: "Turbocharger speed"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 100.0
        offset: 0
        unit: "rpm"
        min: 0
        max: 300000
        comment: "Actual value = raw * 100"

      - name: "Compressor_Outlet_Temperature"
        description: "Compressor outlet temperature"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: -40
        max: 200

  # ============================================================================
  # MESSAGE 0x606 - VVT and Cam Control
  # ============================================================================
  - id: 0x606
    name: "VVT and Cam Control"
    description: "Variable valve timing angles and targets"
    length: 8
    interval_ms: 20
    transmitter: ECU
    signals:
      - name: "VVT_Intake_Angle"
        description: "Intake VVT actual angle"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "deg"
        min: -50
        max: 50

      - name: "VVT_Intake_Target"
        description: "Intake VVT target angle"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "deg"
        min: -50
        max: 50

      - name: "VVT_Exhaust_Angle"
        description: "Exhaust VVT actual angle"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "deg"
        min: -50
        max: 50

      - name: "VVT_Exhaust_Target"
        description: "Exhaust VVT target angle"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "deg"
        min: -50
        max: 50

  # ============================================================================
  # MESSAGE 0x607 - Knock Control
  # ============================================================================
  - id: 0x607
    name: "Knock Control"
    description: "Knock sensor levels and retard values"
    length: 8
    interval_ms: 20
    transmitter: ECU
    signals:
      - name: "Knock_Level_1"
        description: "Knock sensor 1 level"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.01
        offset: 0
        unit: "V"
        min: 0
        max: 5

      - name: "Knock_Level_2"
        description: "Knock sensor 2 level"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.01
        offset: 0
        unit: "V"
        min: 0
        max: 5

      - name: "Knock_Retard"
        description: "Knock-induced ignition retard"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "deg"
        min: 0
        max: 20

      - name: "Knock_Count"
        description: "Total knock event count"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""
        min: 0
        max: 65535

  # ============================================================================
  # MESSAGE 0x608 - Lambda Control
  # ============================================================================
  - id: 0x608
    name: "Lambda Control"
    description: "Lambda sensors and closed loop correction"
    length: 8
    interval_ms: 20
    transmitter: ECU
    signals:
      - name: "Lambda_1"
        description: "Lambda sensor 1"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "lambda"
        min: 0.5
        max: 2.0

      - name: "Lambda_2"
        description: "Lambda sensor 2"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "lambda"
        min: 0.5
        max: 2.0

      - name: "Target_Lambda"
        description: "Target lambda value"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "lambda"
        min: 0.5
        max: 2.0

      - name: "Lambda_Correction"
        description: "Closed loop lambda correction"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "%"
        min: -25
        max: 25

  # ============================================================================
  # MESSAGE 0x609 - EGT Sensors 1-4
  # ============================================================================
  - id: 0x609
    name: "EGT Sensors 1-4"
    description: "Exhaust gas temperatures 1-4"
    length: 8
    interval_ms: 50
    transmitter: ECU
    signals:
      - name: "EGT_1"
        description: "EGT sensor 1"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: 0
        max: 1200

      - name: "EGT_2"
        description: "EGT sensor 2"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: 0
        max: 1200

      - name: "EGT_3"
        description: "EGT sensor 3"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: 0
        max: 1200

      - name: "EGT_4"
        description: "EGT sensor 4"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: 0
        max: 1200

  # ============================================================================
  # MESSAGE 0x60A - EGT Sensors 5-8
  # ============================================================================
  - id: 0x60A
    name: "EGT Sensors 5-8"
    description: "Exhaust gas temperatures 5-8"
    length: 8
    interval_ms: 50
    transmitter: ECU
    signals:
      - name: "EGT_5"
        description: "EGT sensor 5"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: 0
        max: 1200

      - name: "EGT_6"
        description: "EGT sensor 6"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: 0
        max: 1200

      - name: "EGT_7"
        description: "EGT sensor 7"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: 0
        max: 1200

      - name: "EGT_8"
        description: "EGT sensor 8"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "C"
        min: 0
        max: 1200

  # ============================================================================
  # MESSAGE 0x60B - Wheel Speeds
  # ============================================================================
  - id: 0x60B
    name: "Wheel Speeds"
    description: "Individual wheel speed sensors"
    length: 8
    interval_ms: 20
    transmitter: ECU
    signals:
      - name: "Wheel_Speed_FL"
        description: "Front left wheel speed"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "km/h"
        min: 0
        max: 400

      - name: "Wheel_Speed_FR"
        description: "Front right wheel speed"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "km/h"
        min: 0
        max: 400

      - name: "Wheel_Speed_RL"
        description: "Rear left wheel speed"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "km/h"
        min: 0
        max: 400

      - name: "Wheel_Speed_RR"
        description: "Rear right wheel speed"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "km/h"
        min: 0
        max: 400

  # ============================================================================
  # MESSAGE 0x60C - Traction Control
  # ============================================================================
  - id: 0x60C
    name: "Traction Control"
    description: "Traction control and wheel slip data"
    length: 8
    interval_ms: 20
    transmitter: ECU
    signals:
      - name: "Wheel_Slip"
        description: "Calculated wheel slip"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "%"
        min: -100
        max: 100

      - name: "TC_Cut"
        description: "Traction control cut percentage"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "TC_Retard"
        description: "Traction control ignition retard"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "deg"
        min: 0
        max: 30

      - name: "TC_Active"
        description: "Traction control active flag"
        start_bit: 48
        length: 8
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""
        min: 0
        max: 1
        comment: "0=Inactive, 1=Active"

  # ============================================================================
  # MESSAGE 0x60D - Launch Control
  # ============================================================================
  - id: 0x60D
    name: "Launch Control"
    description: "Launch control status and parameters"
    length: 8
    interval_ms: 20
    transmitter: ECU
    signals:
      - name: "Launch_RPM_Limit"
        description: "Launch control RPM limit"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: "rpm"
        min: 0
        max: 15000

      - name: "Launch_Cut"
        description: "Launch control cut percentage"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Launch_Retard"
        description: "Launch control ignition retard"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "deg"
        min: 0
        max: 30

      - name: "Launch_Active"
        description: "Launch control active flag"
        start_bit: 48
        length: 8
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""
        min: 0
        max: 1
        comment: "0=Inactive, 1=Active"

  # ============================================================================
  # MESSAGE 0x60E - Fuel System
  # ============================================================================
  - id: 0x60E
    name: "Fuel System"
    description: "Fuel consumption and level data"
    length: 8
    interval_ms: 100
    transmitter: ECU
    signals:
      - name: "Fuel_Used"
        description: "Total fuel consumed"
        start_bit: 0
        length: 32
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "L"
        min: 0
        max: 9999

      - name: "Fuel_Consumption"
        description: "Instantaneous fuel consumption"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.01
        offset: 0
        unit: "L/h"
        min: 0
        max: 200

      - name: "Fuel_Level"
        description: "Fuel tank level"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

  # ============================================================================
  # MESSAGE 0x60F - Status Flags
  # ============================================================================
  - id: 0x60F
    name: "Status Flags"
    description: "ECU status flags and warning indicators"
    length: 8
    interval_ms: 100
    transmitter: ECU
    signals:
      - name: "Engine_Running"
        description: "Engine running flag"
        start_bit: 0
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""
        comment: "0=Off, 1=Running"

      - name: "Rev_Limiter_Active"
        description: "Rev limiter active"
        start_bit: 1
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Boost_Cut_Active"
        description: "Boost cut active"
        start_bit: 2
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Speed_Limiter_Active"
        description: "Speed limiter active"
        start_bit: 3
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Launch_Control_Armed"
        description: "Launch control armed"
        start_bit: 4
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Flat_Shift_Active"
        description: "Flat shift active"
        start_bit: 5
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Overrun_Active"
        description: "Fuel overrun active"
        start_bit: 6
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Closed_Loop_Active"
        description: "Closed loop lambda active"
        start_bit: 7
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Check_Engine_Light"
        description: "Check engine light status"
        start_bit: 8
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Low_Oil_Pressure_Warning"
        description: "Low oil pressure warning"
        start_bit: 9
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "High_Water_Temp_Warning"
        description: "High water temperature warning"
        start_bit: 10
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "High_EGT_Warning"
        description: "High EGT warning"
        start_bit: 11
        length: 1
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Shift_Light"
        description: "Shift light indicator"
        start_bit: 16
        length: 8
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""
        comment: "0=Off, 1-8=Intensity level"

  # ============================================================================
  # MESSAGE 0x610 - Analog Inputs 1-4
  # ============================================================================
  - id: 0x610
    name: "Analog Inputs 1-4"
    description: "Generic analog input channels 1-4"
    length: 8
    interval_ms: 50
    transmitter: ECU
    signals:
      - name: "Analog_Input_1"
        description: "Analog input 1 voltage"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "V"
        min: 0
        max: 5

      - name: "Analog_Input_2"
        description: "Analog input 2 voltage"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "V"
        min: 0
        max: 5

      - name: "Analog_Input_3"
        description: "Analog input 3 voltage"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "V"
        min: 0
        max: 5

      - name: "Analog_Input_4"
        description: "Analog input 4 voltage"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "V"
        min: 0
        max: 5

  # ============================================================================
  # MESSAGE 0x611 - Analog Inputs 5-8
  # ============================================================================
  - id: 0x611
    name: "Analog Inputs 5-8"
    description: "Generic analog input channels 5-8"
    length: 8
    interval_ms: 50
    transmitter: ECU
    signals:
      - name: "Analog_Input_5"
        description: "Analog input 5 voltage"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "V"
        min: 0
        max: 5

      - name: "Analog_Input_6"
        description: "Analog input 6 voltage"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "V"
        min: 0
        max: 5

      - name: "Analog_Input_7"
        description: "Analog input 7 voltage"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "V"
        min: 0
        max: 5

      - name: "Analog_Input_8"
        description: "Analog input 8 voltage"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "V"
        min: 0
        max: 5

  # ============================================================================
  # MESSAGE 0x612 - G-Forces
  # ============================================================================
  - id: 0x612
    name: "G-Forces"
    description: "Accelerometer data"
    length: 8
    interval_ms: 20
    transmitter: ECU
    signals:
      - name: "Lateral_G"
        description: "Lateral acceleration"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.01
        offset: 0
        unit: "G"
        min: -5
        max: 5

      - name: "Longitudinal_G"
        description: "Longitudinal acceleration"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.01
        offset: 0
        unit: "G"
        min: -5
        max: 5

      - name: "Vertical_G"
        description: "Vertical acceleration"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.01
        offset: 0
        unit: "G"
        min: -5
        max: 5

      - name: "Combined_G"
        description: "Combined G-force magnitude"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.01
        offset: 0
        unit: "G"
        min: 0
        max: 10

  # ============================================================================
  # MESSAGE 0x613 - DBW Throttle
  # ============================================================================
  - id: 0x613
    name: "DBW Throttle"
    description: "Drive-by-wire throttle control data"
    length: 8
    interval_ms: 10
    transmitter: ECU
    signals:
      - name: "Pedal_Position"
        description: "Accelerator pedal position"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Throttle_Target"
        description: "Throttle body target position"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Throttle_Actual"
        description: "Throttle body actual position"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "DBW_Duty_Cycle"
        description: "DBW motor duty cycle"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 0.1
        offset: 0
        unit: "%"
        min: -100
        max: 100

  # ============================================================================
  # MESSAGE 0x614 - Outputs 1
  # ============================================================================
  - id: 0x614
    name: "Outputs 1"
    description: "Auxiliary output duty cycles 1-4"
    length: 8
    interval_ms: 50
    transmitter: ECU
    signals:
      - name: "Aux_Output_1_Duty"
        description: "Auxiliary output 1 duty cycle"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Aux_Output_2_Duty"
        description: "Auxiliary output 2 duty cycle"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Aux_Output_3_Duty"
        description: "Auxiliary output 3 duty cycle"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Aux_Output_4_Duty"
        description: "Auxiliary output 4 duty cycle"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

  # ============================================================================
  # MESSAGE 0x615 - Nitrous
  # ============================================================================
  - id: 0x615
    name: "Nitrous"
    description: "Nitrous oxide system data"
    length: 8
    interval_ms: 50
    transmitter: ECU
    signals:
      - name: "Nitrous_Stage_1_Active"
        description: "Nitrous stage 1 active"
        start_bit: 0
        length: 8
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""
        comment: "0=Off, 1=On"

      - name: "Nitrous_Stage_2_Active"
        description: "Nitrous stage 2 active"
        start_bit: 8
        length: 8
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Nitrous_Bottle_Pressure"
        description: "Nitrous bottle pressure"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "kPa"
        min: 0
        max: 10000

      - name: "Nitrous_Fuel_Adder"
        description: "Nitrous fuel enrichment"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "%"
        min: 0
        max: 100

      - name: "Nitrous_Timing_Retard"
        description: "Nitrous timing retard"
        start_bit: 48
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "deg"
        min: 0
        max: 20

  # ============================================================================
  # MESSAGE 0x616 - Trigger System
  # ============================================================================
  - id: 0x616
    name: "Trigger System"
    description: "Trigger and sync status"
    length: 8
    interval_ms: 100
    transmitter: ECU
    signals:
      - name: "Trigger_1_Error_Count"
        description: "Trigger 1 error count"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Trigger_2_Error_Count"
        description: "Trigger 2 error count"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""

      - name: "Sync_Level"
        description: "Trigger sync level"
        start_bit: 32
        length: 8
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""
        comment: "0=No sync, 1=Half sync, 2=Full sync"

      - name: "Trigger_Voltage"
        description: "Trigger sensor voltage"
        start_bit: 40
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.001
        offset: 0
        unit: "V"
        min: 0
        max: 12

  # ============================================================================
  # MESSAGE 0x617 - GPS Data 1
  # ============================================================================
  - id: 0x617
    name: "GPS Data 1"
    description: "GPS position data"
    length: 8
    interval_ms: 100
    transmitter: ECU
    signals:
      - name: "GPS_Latitude"
        description: "GPS latitude"
        start_bit: 0
        length: 32
        byte_order: little_endian
        data_type: signed
        scale: 0.0000001
        offset: 0
        unit: "deg"
        min: -90
        max: 90

      - name: "GPS_Longitude"
        description: "GPS longitude"
        start_bit: 32
        length: 32
        byte_order: little_endian
        data_type: signed
        scale: 0.0000001
        offset: 0
        unit: "deg"
        min: -180
        max: 180

  # ============================================================================
  # MESSAGE 0x618 - GPS Data 2
  # ============================================================================
  - id: 0x618
    name: "GPS Data 2"
    description: "GPS speed, altitude, and heading"
    length: 8
    interval_ms: 100
    transmitter: ECU
    signals:
      - name: "GPS_Speed"
        description: "GPS speed"
        start_bit: 0
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "km/h"
        min: 0
        max: 500

      - name: "GPS_Altitude"
        description: "GPS altitude"
        start_bit: 16
        length: 16
        byte_order: little_endian
        data_type: signed
        scale: 1.0
        offset: 0
        unit: "m"
        min: -500
        max: 10000

      - name: "GPS_Heading"
        description: "GPS heading"
        start_bit: 32
        length: 16
        byte_order: little_endian
        data_type: unsigned
        scale: 0.1
        offset: 0
        unit: "deg"
        min: 0
        max: 360

      - name: "GPS_Satellites"
        description: "Number of GPS satellites"
        start_bit: 48
        length: 8
        byte_order: little_endian
        data_type: unsigned
        scale: 1.0
        offset: 0
        unit: ""
        min: 0
        max: 24

# Enumerations for special values
enums:
  - name: "GearPosition"
    description: "Gear position values"
    values:
      "-1": "Reverse"
      "0": "Neutral"
      "1": "1st"
      "2": "2nd"
      "3": "3rd"
      "4": "4th"
      "5": "5th"
      "6": "6th"
      "7": "7th"
      "8": "8th"

  - name: "SyncLevel"
    description: "Trigger synchronization level"
    values:
      "0": "No Sync"
      "1": "Half Sync"
      "2": "Full Sync"

  - name: "OnOff"
    description: "Simple on/off state"
    values:
      "0": "Off"
      "1": "On"

metadata:
  author: "OpenECU Alliance"
  license: "MIT"
  source_url: "https://www.maxxecu.com/webhelp/can-default_maxxecu_protocol.html"
  tested_with:
    - "MaxxECU RACE"
    - "MaxxECU STREET"
    - "MaxxECU MINI"
    - "MaxxECU PRO"
  compatible_tools:
    - "CANalyzer"
    - "PCAN-View"
    - "SavvyCAN"
    - "BusMaster"
    - "RaceChrono"
    - "AiM data loggers"
    - "MaxxTune software"
  known_issues:
    - "Base address is configurable in MaxxTune - default is 0x600"
    - "Not all messages may be broadcast depending on ECU configuration"
    - "Message intervals may vary based on ECU load"
  changelog:
    - version: "1.0.0"
      date: "2026-01-07"
      changes:
        - "Initial release based on MaxxECU default protocol documentation"
        - "Added 25 messages covering core engine parameters"
        - "Added EGT, wheel speed, and traction control messages"
        - "Added launch control and nitrous system messages"
        - "Added GPS data messages"
        - "Added G-force and accelerometer messages"
        - "Added drive-by-wire throttle messages"

# MaxxECU-specific notes
x_maxxecu:
  software: "MaxxTune"
  protocol_notes: |
    This protocol is the default CAN broadcast protocol for MaxxECU systems.

    Important characteristics:
    - 11-bit standard CAN identifiers
    - Configurable base address (default 0x600)
    - 1 Mb/second baud rate
    - Little-endian (Intel) byte order
    - All messages are 8 bytes

    The base address can be changed in MaxxTune under:
    CAN > CAN setup > Default protocol base address

    For custom CAN message configurations, MaxxECU supports user-defined
    messages through the MaxxTune software.
  base_address_range:
    min: 0x000
    max: 0x7FF
    default: 0x600
